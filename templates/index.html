{% extends 'base.html' %}
{% block title %}–ì–ª–∞–≤–Ω–∞—è{% endblock %}

{% block content %}

<h2>–û —Å–∏—Å—Ç–µ–º–µ</h2>
<p>
  –î–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É—á–µ–±–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π –ø–æ —è–∑—ã–∫—É Python
  –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—à–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.
  –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª—å—é, –æ–±—É—á–µ–Ω–Ω–æ–π –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ.
</p>

{% if error_msg %}
  <div class="flash danger">
    –û—à–∏–±–∫–∞: {{ error_msg }}
  </div>
{% endif %}

<form method="post">

  {% if not task %}
    <div class="section">
      <div class="card highlight">
        <p>
          –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ —É—á–µ–±–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ.
          –ó–∞–¥–∞–Ω–∏–µ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–∏–º–µ—Ä –≤—Ö–æ–¥–Ω—ã—Ö –∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
        </p>
        <button type="submit" name="action" value="generate">
          üéØ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ
        </button>
      </div>
    </div>
  {% endif %}

  {% if task %}
    <input type="hidden" name="task" value="{{ task }}">

    <div class="section">
      <h3>üìò –£—á–µ–±–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ</h3>
      <div class="card highlight">
        <pre>{{ task }}</pre>
      </div>
    </div>

    <div class="section">
      <h3>üß† –í–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ</h3>
      <div class="card">
        <textarea
          name="solution"
          class="code"
          placeholder="–í–≤–µ–¥–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞ Python..."
          style="height: 220px;"
        >{{ solution }}</textarea>
      </div>
    </div>

    <div class="section">
      <div class="card">
        <label>
          <input type="checkbox" name="use_local_model">
          –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –≤–º–µ—Å—Ç–æ OpenAI
        </label>
      </div>
    </div>

    <div class="section">
      <button type="submit" name="action" value="check">
        ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ
      </button>
    </div>
  {% endif %}

</form>

{% if feedback %}
  <div class="section">
    <h3>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏</h3>
    <div class="card">
      <div class="scroll-box">
        <pre>{{ feedback }}</pre>
      </div>
    </div>
  </div>
{% endif %}

{% endblock %}
